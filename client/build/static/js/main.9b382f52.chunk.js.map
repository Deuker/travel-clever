{"version":3,"sources":["components/tree.jpg","components/treetwo.jpg","services/auth.js","components/Signup.js","components/Navbar.js","components/Login.js","components/LandingPage.js","components/ProtectedRoute.js","components/RoutesList.js","components/Routes.js","components/RouteDetails.js","components/Trees.js","components/ProfilePage.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","signup","username","password","axios","post","then","response","data","catch","err","login","Signup","state","message","handleChange","event","target","name","value","setState","handleSubmit","preventDefault","props","setUser","history","push","className","Form","onSubmit","this","Group","Label","htmlFor","Control","type","onChange","id","Alert","variant","Button","src","Component","handleLogout","console","log","delete","Navbar","style","justifyContent","bg","user","Brand","to","class","onClick","Login","LandingPage","href","width","height","alt","ProtectedRoute","component","path","redirectPath","rest","render","RoutesList","routes","length","map","key","_id","startpoint","endpoint","Routes","RoutesDetails","route","kilometer","co2emission","owner","error","deleteRoute","match","params","getData","routeId","get","allowedToDelete","Trees","treesToPlant","reduce","acc","parseInt","toFixed","splitted","split","fullTrees","i","fullTreesImages","tree","require","ProfilePage","totalKilometer","totalCo2Saved","totalTreeCapacitySaved","oneWay","returning","calculate","str","sliced","parseFloat","refreshDasboardAfterSaving","closeShowRouteInfo","handleCheckboxOneChange","checked","handleCheckboxTwoChange","uncheck","singleKilometer","singleCo2","Fragment","showRouteInfo","nextProps","showInfo","App","showButton","lat","lng","zoom","componentDidMount","mapboxgl","Map","container","center","addControl","MapboxDirections","accessToken","unit","profile","NavigationControl","setInterval","routeEle","document","querySelector","buttonClick","getRoute","innerHTML","fromToEle","getElementsByClassName","click","reverse","borderStyle","display","viewport","onViewportChange","mapboxApiAccessToken","exact","RouteDetails","React","Boolean","window","location","hostname","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9b382f52.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/tree.d561b764.jpg\";","module.exports = __webpack_public_path__ + \"static/media/treetwo.e5fe6ee5.jpg\";","import axios from 'axios';\n\nconst signup = (username, password) => {\n  return axios\n    .post('/api/auth/signup', { username, password })\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data;\n    });\n};\n\nconst login = (username, password) => {\n  return axios\n    .post('/api/auth/login', { username, password })\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data;\n    });\n};\n\nconst logout = () => {\n  return axios\n    .delete('/api/auth/logout')\n    .then(response => {\n      console.log('logout:', response)\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data;\n    });\n};\n\nexport { signup, login, logout };","import React, { Component } from \"react\";\nimport { Form, Button, Alert } from \"react-bootstrap\";\nimport { signup } from \"../services/auth\";\nimport \"./Signup.css\";\n\nexport default class Signup extends Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    message: \"\",\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    const { username, password } = this.state;\n\n    signup(username, password).then((data) => {\n      if (data.message) {\n        this.setState({\n          message: data.message,\n          username: \"\",\n          password: \"\",\n        });\n      } else {\n        this.props.setUser(data);\n        this.props.history.push(\"/\");\n      }\n    });\n  };\n\n  render() {\n    return (\n      <>\n        <h2>Signup</h2>\n        <div className=\"SignUpStyle\">\n          <div className=\"SignUpForm\">\n            <Form onSubmit={this.handleSubmit}>\n              <Form.Group>\n                <Form.Label htmlFor=\"username\">Username: </Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  name=\"username\"\n                  value={this.state.username}\n                  onChange={this.handleChange}\n                  id=\"username\"\n                />\n              </Form.Group>\n              <Form.Group>\n                <Form.Label htmlFor=\"password\">Password: </Form.Label>\n                <Form.Control\n                  type=\"password\"\n                  name=\"password\"\n                  value={this.state.password}\n                  onChange={this.handleChange}\n                  id=\"password\"\n                />\n              </Form.Group>\n              {this.state.message && (\n                <Alert variant=\"danger\">{this.state.message}</Alert>\n              )}\n              <Button type=\"submit\">Signup</Button>\n            </Form>\n          </div>\n          <div className=\"SignUpPic\">\n            <img src=\"images/main_becomecyclistoftheweek.jpg\"></img>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n","// import React from 'react'\nimport { Link } from \"react-router-dom\";\nimport React from \"react\";\nimport { Navbar as Nav } from \"react-bootstrap\";\nimport \"./Navbar.css\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { logout } from \"../services/auth.js\";\n\nconst handleLogout = (props) => {\n  console.log(props);\n  logout().then(() => {\n    props.setUser(null);\n  });\n};\n\nconst Navbar = (props) => {\n  return (\n    <Nav\n      style={{\n        justifyContent: \"flex-end\",\n      }}\n      bg=\"bg-custom\"\n    >\n      {props.user && (\n        <Nav.Brand>\n          <b>Welcome, {props.user.username}</b>\n        </Nav.Brand>\n      )}\n      <Nav.Brand>\n        <Link to=\"/\" class=\"link\">\n          Home\n        </Link>\n      </Nav.Brand>\n\n      {props.user ? (\n        <>\n          <Nav.Brand>\n            <Link to=\"/routes\" class=\"link\">\n              My saved routes\n            </Link>\n          </Nav.Brand>\n          <Nav.Brand>\n            <Link to=\"/\" class=\"link\" onClick={() => handleLogout(props)}>\n              Logout\n            </Link>\n          </Nav.Brand>\n        </>\n      ) : (\n        <>\n          <Nav.Brand>\n            <Link to=\"/signup\" class=\"link\">\n              Signup\n            </Link>\n          </Nav.Brand>\n          <Nav.Brand>\n            <Link to=\"/login\" class=\"link\">\n              Login\n            </Link>\n          </Nav.Brand>\n        </>\n      )}\n    </Nav>\n  );\n};\n\nexport default Navbar;\n","import React, { Component } from \"react\";\nimport { Form, Button, Alert } from \"react-bootstrap\";\nimport { login } from \"../services/auth\";\nimport \"./Login.css\";\n\nexport default class Login extends Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    message: \"\",\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    const { username, password } = this.state;\n\n    login(username, password).then((data) => {\n      if (data.message) {\n        this.setState({\n          message: data.message,\n          username: \"\",\n          password: \"\",\n        });\n      } else {\n        // successfully logged in\n        // update the state for the parent component\n        this.props.setUser(data);\n        this.props.history.push(\"/\");\n      }\n    });\n  };\n\n  render() {\n    return (\n      <>\n        <h2>Login</h2>\n        <div className=\"LoginStyle\">\n          <div className=\"LoginForm\">\n            <Form onSubmit={this.handleSubmit}>\n              <Form.Group>\n                <Form.Label htmlFor=\"username\">Username: </Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  name=\"username\"\n                  value={this.state.username}\n                  onChange={this.handleChange}\n                  id=\"username\"\n                />\n              </Form.Group>\n              <Form.Group>\n                <Form.Label htmlFor=\"password\">Password: </Form.Label>\n                <Form.Control\n                  type=\"password\"\n                  name=\"password\"\n                  value={this.state.password}\n                  onChange={this.handleChange}\n                  id=\"password\"\n                />\n              </Form.Group>\n              {this.state.message && (\n                <Alert variant=\"danger\">{this.state.message}</Alert>\n              )}\n              <Button type=\"submit\">Login</Button>\n            </Form>\n          </div>\n          <div className=\"LoginPic\">\n            <img src=\"images/bikeforlogin.jpg\"></img>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n","import React from \"react\";\nimport \"./LandingPage.css\";\n// import navimage from \"../images/cycle_now.png\";\n\nconst LandingPage = () => {\n  return (\n    <div className=\"Landingpage\">\n      <nav>\n        <div className=\"containerforHeader\">\n          <div className=\"topnavHeader\">\n            <div className=\"menuforHeader\">\n              <img\n                src=\"images/white_bike_transparent.png\"\n                href=\"#\"\n                width=\"70\"\n                height=\"50\"\n                alt=\"cam\"\n              />\n              <a href=\"/login\">Login</a>\n              <a href=\"/signup\">Signup</a>\n              <a href=\"#\">About</a>\n              <div className=\"Banner\">\n                <h2>cycle now!</h2>\n                <p>get a better understanding of your cycling impact</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </nav>\n      <header></header>\n      {/* <header></header> */}\n\n      <div className=\"CycleInfo\">\n        <img src=\"images/cycle_today_transparent_new.png\" alt=\"cycleinfo\"></img>\n      </div>\n      <h1>Do you actually know...</h1>\n      <div className=\"DoYouKnow\">\n        <img src=\"images/doyouactuallyknow.jpg\"></img>\n        <div className=\"DoYouKnowText\">\n          <p>...how much co2 a tree compensates per year?</p>\n          <p>...how much kilometers bike you ride per year?</p>\n          <p>...how much co2 you save while cycling compared to driving?</p>\n          <a href=\"/signup\">Get Answers</a>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LandingPage;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({\n  component: Component,\n  user,\n  path,\n  redirectPath = '/',\n  ...rest\n}) => {\n  return (\n    <Route\n      path={path}\n      render={props => {\n        return user ? (\n          <Component {...props} {...rest} user={user} />\n        ) : (\n            <Redirect to={redirectPath} />\n          );\n      }}\n    />\n  );\n};\n\nexport default ProtectedRoute;","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./RoutesList.css\";\n\n\n\nconst RoutesList = (props) => {\n  return (\n    <div className=\"routesList\">\n      {props.routes.length > 0 && <h3>Routes:</h3>}\n\n      {props.routes.map((routes) => {\n        return (\n          <div key={routes._id}>\n            <p>\n              <Link to={`/routes/${routes._id}`}>\n                {routes.startpoint} - {routes.endpoint}\n              </Link>\n            </p>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default RoutesList;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\n\nimport RoutesList from \"./RoutesList\";\n// import Dashboard from \"./Dashboard\";\n// import ProfilePage from \"./ProfilePage\";\n\nexport default class Routes extends Component {\n  state = {\n    routes: [],\n  };\n\n  // componentDidMount = () => {\n  //   this.getData();\n  // };\n\n  // getData = () => {\n  //   axios\n  //     .get(\"/api/routes\")\n  //     .then((response) => {\n  //       console.log(response);\n  //       let revercedResponse = response.reverce();\n  //       this.setState({\n  //         routes: revercedResponse.data,\n  //       });\n  //     })\n  //     .catch((err) => {\n  //       console.log(err);\n  //     });\n  // };\n\n  // componentDidMount = () => {\n  //   this.getData();\n  // };\n\n  // getData = () => {\n  //   axios\n  //     .get(\"/api/routes\")\n  //     .then((response) => {\n  //       console.log(response);\n  //       this.setState({\n  //         routes: response.data,\n  //       });\n  //     })\n  //     .catch((err) => {\n  //       console.log(err);\n  //     });\n  // };\n\n  render() {\n    return <RoutesList  routes={this.props.routes} />;\n  }\n}\n","import React, { Component } from \"react\";\n\nimport axios from \"axios\";\nimport \"./RouteDetails.css\";\n\nexport default class RoutesDetails extends Component {\n  state = {\n    route: null,\n    startpoint: \"\",\n    endpoint: \"\",\n    kilometer: \"\",\n    co2emission: \"\",\n    owner: \"\",\n    error: null,\n  };\n\n  componentDidMount() {\n    const routeId = this.props.match.params.id;\n\n    axios\n      .get(`/api/routes/${routeId}`)\n      .then((response) => {\n        const route = response.data;\n        const startpoint = response.data.startpoint;\n        const endpoint = response.data.endpoint;\n        const kilometer = response.data.kilometer;\n        console.log(kilometer);\n        const co2emission = response.data.co2emission;\n        const owner = response.data.owner;\n\n        this.setState({\n          route,\n          startpoint,\n          endpoint,\n          kilometer,\n          co2emission,\n          owner,\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  deleteRoute = () => {\n    const id = this.props.match.params.id;\n    axios\n      .delete(`/api/routes/${id}`)\n      .then(() => {\n        this.props.getData();\n        this.props.history.push(\"/routes\");\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  render() {\n    if (this.state.error) return <div>{this.state.error}</div>;\n    if (!this.state.route) return <></>;\n\n    let allowedToDelete = false;\n    const user = this.props.user;\n    if (user) allowedToDelete = true;\n\n    return (\n      <div className=\"singleRoute\">\n        <h3>\n          {this.state.route.startpoint} - {this.state.endpoint},\n          {this.state.kilometer} km, CO2 impact:{this.state.co2emission} kg\n        </h3>\n        {allowedToDelete && (\n          <button\n            class=\"deleteRouteBtn animate__animated animate__bounce\"\n            variant=\"danger\"\n            onClick={this.deleteRoute}\n          >\n            Delete this route\n          </button>\n        )}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nclass Trees extends Component {\n  render() {\n    console.log(\"routes:\", this.props.routes);\n    let treesToPlant = this.props.routes\n      .reduce((acc, route) => {\n        console.log(parseInt(route.co2emission));\n        return acc + parseInt(route.co2emission) / 23.2;\n      }, 0)\n      .toFixed(2);\n\n    let splitted = treesToPlant.split(\".\");\n    let fullTrees = [];\n    for (var i = 1; i <= parseInt(splitted[0]); i++) {\n      fullTrees.push(i);\n    }\n\n    const fullTreesImages = fullTrees.map((tree) => {\n      return <img src={require(\"./tree.jpg\")} alt=\"\" width=\"10%\" key={tree} />;\n    });\n\n    console.log(splitted);\n    console.log(fullTrees);\n    console.log(\"trees:\", treesToPlant);\n\n    return (\n      <div>\n        {fullTreesImages}\n        {splitted[1] >= 5 ? (\n          <img\n            src={require(\"./treetwo.jpg\")}\n            alt=\"\"\n            width=\"5%\"\n            key=\"halftree\"\n          />\n        ) : (\n          <> </>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Trees;\n","import React, {\n  // useState, setState,\n  Component,\n} from \"react\";\n// import { Button } from \"react-bootstrap\";\n\n// import WelcomePage from \"./WelcomePage\";\n// import Dashboard from \"./Dashboard\";\nimport axios from \"axios\";\nimport \"./ProfilePage.css\";\n\nimport Trees from \"./Trees\";\n\nclass ProfilePage extends Component {\n  //state here for saving the information and sending it to the Backend\n\n  state = {\n    totalKilometer: \"\",\n    totalCo2Saved: \"\",\n    totalTreeCapacitySaved: \"\",\n    //startpoint: this.props.startpoint,\n    // endpoint: this.props.endpoint,\n    // kilometer: this.props.kilometer,\n    //\n    //showInfo: false,\n    co2emission: \"\",\n    oneWay: true,\n    returning: false,\n  };\n\n  componentDidMount() {\n    this.refreshDasboardAfterSaving();\n    this.props.getData();\n  }\n\n  refreshDasboardAfterSaving() {\n    axios\n      .get(\"api/routes\")\n      .then((response) => {\n        let totalKilometer = 0;\n        let totalCo2Saved = 0;\n        let totalTreeCapacitySaved = 0;\n\n        for (let i = 0; i < response.data.length; i++) {\n          let singleKilometer = parseFloat(\n            response.data[i].kilometer.split(\"km\")\n          );\n          let singleCo2 = parseFloat(response.data[i].co2emission);\n          console.log(singleKilometer);\n          totalKilometer += singleKilometer;\n          totalCo2Saved += singleCo2;\n          totalTreeCapacitySaved = (totalCo2Saved / 23.2).toFixed(1);\n          console.log(totalCo2Saved);\n        }\n        console.log(totalKilometer);\n        console.log(response.data);\n        console.log(response.data[0].kilometer);\n\n        this.setState({\n          totalKilometer,\n          totalCo2Saved,\n          totalTreeCapacitySaved,\n        });\n        this.props.getData();\n      })\n\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  // componentDidMount = () => {\n  //   this.props.getData();\n  // }\n\n  static getDerivedStateFromProps(nextProps) {\n    return {\n      startpoint: nextProps.startpoint,\n      endpoint: nextProps.endpoint,\n      kilometer: nextProps.kilometer,\n      co2emission: parseFloat(\n        (parseInt(nextProps.kilometer) * 203.182) / 1000\n      ).toFixed(2),\n      showInfo: true,\n\n      showRouteInfo: nextProps.showRouteInfo,\n    };\n  }\n\n  calculate = () => {\n    const str = this.state.kilometer;\n    const sliced = parseFloat(str.split(\"km\"));\n    console.log(\"Co2 logic\", sliced);\n  };\n\n  handleSubmit = (event) => {\n    console.log(this.state.oneWay);\n    event.preventDefault();\n    const data = this.props;\n    console.log(\"Final data is: \", data);\n    //axios request goes here\n\n    axios\n      .post(\"/api/routes\", {\n        startpoint: this.state.startpoint,\n        endpoint: this.state.endpoint,\n        kilometer: this.state.returning\n          ? parseFloat(this.state.kilometer.split(\"km\")) * 2 + \"km\"\n          : this.state.kilometer,\n        co2emission: this.state.co2emission,\n        oneWay: this.state.oneWay,\n        returning: this.state.returning,\n      })\n      .then(() => {\n        this.refreshDasboardAfterSaving();\n        console.log(\"CO2 Data:\", this.state.co2emission);\n        this.props.getData();\n\n        this.props.closeShowRouteInfo();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  handleCheckboxOneChange = (event) => {\n    // console.log(this.state.oneWay)\n    //  if(this.state.oneWay){\n    //   document.getElementById(\"oneWay\").disabled = true;\n    //  }else if(this.state.oneWay===false){\n    //   document.getElementById(\"oneWay\").disabled = false;\n    //  }\n\n    if (this.state.oneWay) {\n      this.setState({\n        oneWay: false,\n        returning: true,\n      });\n    } else {\n      this.setState({\n        oneWay: event.target.checked,\n        returning: false,\n      });\n      //  this.uncheck()\n    }\n  };\n  handleCheckboxTwoChange = (event) => {\n    // if(this.state.return){\n    //   document.getElementById(\"return\").disabled = true;\n    // }else if(this.state.return===false){\n    //   document.getElementById(\"return\").disabled = false;\n    //  }\n    if (this.state.returning) {\n      this.setState({\n        oneWay: true,\n        returning: false,\n      });\n    } else {\n      this.setState({\n        oneWay: false,\n        returning: event.target.checked,\n      });\n    }\n    //  this.uncheck()\n  };\n\n  uncheck = () => {\n    if (this.state.oneWay) {\n      this.setState({\n        returning: false,\n      });\n    } else if (this.state.returning) {\n      this.setState({\n        oneWay: false,\n      });\n    }\n  };\n\n  render() {\n    //console.log(\"Banana\", this.state);\n    return (\n\n      <React.Fragment>\n\n        {/* <Dashboard /> */}\n\n        {this.state.showRouteInfo ? (\n          <div className=\"routeDetails\">\n            <h3>Your Search Route details:</h3>\n            <label>one way</label>\n            <input\n              type=\"checkbox\"\n              onChange={this.handleCheckboxOneChange}\n              id=\"oneWay\"\n              checked={this.state.oneWay}\n            />\n            <label>return</label>\n            <input\n              type=\"checkbox\"\n              onChange={this.handleCheckboxTwoChange}\n              id=\"return\"\n              checked={this.state.returning}\n            />\n            <div>From: {this.state.startpoint}</div>\n            <div>To: {this.state.endpoint}</div>\n            <div>Distance: {this.state.kilometer}</div>\n            <div>CO2: {this.state.co2emission}kg</div>\n            <button\n\n              className=\"saveRouteBtn animate__animated animate__bounce\"\n\n              onClick={this.handleSubmit}\n              type=\"button\"\n            >\n              Save this Route\n            </button>\n          </div>\n        ) : (\n          \"\"\n        )}\n\n        <div className=\"dashboard\">\n          <h3>Your travel Dashboard</h3>\n          <p>\n            <b>Total kilometers cycled:</b> {this.state.totalKilometer}km\n          </p>\n\n          <p>\n            <b>Total CO2 saved:</b> {this.state.totalCo2Saved} kg\n          </p>\n          <p>\n            <b>Trees to plant to offset CO2 footprint:</b>{\" \"}\n            {this.state.totalTreeCapacitySaved}\n          </p>\n\n          <Trees routes={this.props.routes} />\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default ProfilePage;\n","import React from \"react\";\n\nimport ReactMapGL from \"react-map-gl\";\nimport MapboxDirections from \"@mapbox/mapbox-gl-directions/dist/mapbox-gl-directions\";\nimport mapboxgl from \"mapbox-gl\";\n\n//\n\nimport \"./App.css\";\nimport Signup from \"./components/Signup\";\nimport Navbar from \"./components/Navbar\";\nimport Login from \"./components/Login\";\nimport LandingPage from \"./components/LandingPage\";\n\n// import { Image } from 'react-native';\nimport axios from \"axios\";\n\nimport { Route, Switch } from \"react-router-dom\";\nimport ProtectedRoute from \"./components/ProtectedRoute\";\nimport Routes from \"./components/Routes\";\nimport RouteDetails from \"./components/RouteDetails\";\nimport ProfilePage from \"./components/ProfilePage\";\n\nclass App extends React.Component {\n  state = {\n    user: this.props.user,\n    showButton: false,\n    startpoint: \"\",\n    endpoint: \"\",\n    lat: 52.52,\n    lng: 13.405,\n    zoom: 13,\n    kilometer: \"\",\n    routes: [],\n    showRouteInfo: false,\n  };\n\n  showRouteInfo = () => {\n    this.setState({ showRouteInfo: true });\n  };\n\n  componentDidMount = () => {\n    this.getData();\n    const map = new mapboxgl.Map({\n      container: \"map\",\n      style: \"mapbox://styles/mapbox/streets-v11\",\n      center: [-79.4512, 43.6568],\n      zoom: 13,\n    });\n\n    map.addControl(\n      new MapboxDirections({\n        accessToken: mapboxgl.accessToken,\n        unit: \"metric\",\n        profile: \"mapbox/cycling\",\n      }),\n\n      \"top-left\"\n    );\n    map.addControl(new mapboxgl.NavigationControl());\n\n    setInterval(() => {\n      const routeEle = document.querySelector(\n        \".mapbox-directions-route-summary > h1\"\n      );\n      if (routeEle && !this.state.showButton && !this.state.buttonClick) {\n        this.setState({\n          showButton: true,\n        });\n      } else if (!routeEle && this.state.showButton) {\n        this.setState({\n          showButton: false,\n        });\n      }\n    }, 500);\n  };\n\n  getRoute = (event) => {\n    event.preventDefault();\n    const kilometer = document.querySelector(\n      \".mapbox-directions-route-summary > h1\"\n    ).innerHTML;\n    const fromToEle = document.getElementsByClassName(\"mapboxgl-ctrl-geocoder\");\n    const startpoint = fromToEle[0].querySelector(\"input\").value;\n    const endpoint = fromToEle[1].querySelector(\"input\").value;\n\n    this.setState({\n      startpoint: startpoint,\n      endpoint: endpoint,\n      kilometer: kilometer,\n      showButton: false,\n      buttonClick: true,\n    });\n\n    this.showRouteInfo();\n  };\n\n  closeShowRouteInfo = () => {\n    this.setState({ showRouteInfo: false });\n  };\n\n  setUser = (user) => {\n    this.setState({\n      user: user,\n    });\n  };\n\n  getData = () => {\n    axios\n      .get(\"/api/routes\")\n      .then((response) => {\n        console.log(\"the routes\", response);\n        const fromToEle = document.getElementsByClassName(\n          \"geocoder-icon-close\"\n        );\n        console.log(\"hello\", fromToEle);\n        fromToEle[0].click();\n        fromToEle[1].click();\n\n        this.setState({\n          routes: response.data.reverse(),\n          buttonClick: false,\n          startpoint: \"\",\n          endpoint: \"\",\n          kilometer: \"\",\n        });\n        console.log(\"routes:\", this.state.routes);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  // let image=new Image();\n  // image.src='./public/baum.jpg';\n  //  document.getElementsByClassName('trees').appenChild(imgage)};\n\n  // console.log('Trees:',treesToPlant)\n\n  // console.log('Trees:',treesToPlant)\n\n  render() {\n    console.log(\"Heeeiiiii\", this.state.user);\n\n    return (\n      <div className=\"App\">\n        <Navbar user={this.state.user} setUser={this.setUser} />\n\n        <div className=\"pageContent\">\n          <div\n            id=\"map\"\n            className=\"map\"\n            borderStyle=\"double\"\n            style={this.state.user ? {} : { display: \"none\" }}\n          >\n            <ReactMapGL\n              {...this.state.viewport}\n              onViewportChange={(viewport) => this.setState(viewport)}\n              mapboxApiAccessToken=\"pk.eyJ1IjoidmljdG9yaWF0b3JpYSIsImEiOiJja2EzbHVrMnowMzBzM2tyd2VsNnI2YnFiIn0.rZpPyrN5hdNxsnVtAWWCOQ\"\n            ></ReactMapGL>\n          </div>\n\n          <div className=\"layout\">\n            {this.state.showButton ? (\n              <button\n                className=\"calculateCO2 animate__animated animate__bounce\"\n                onClick={this.getRoute}\n              >\n                Calculate CO2 for this route\n              </button>\n            ) : (\n              \"\"\n            )}\n            {this.state.user ? (\n              <ProtectedRoute\n                exact\n                path=\"/\"\n                user={this.state.user}\n                startpoint={this.state.startpoint}\n                endpoint={this.state.endpoint}\n                kilometer={this.state.kilometer}\n                getData={this.getData}\n                showRouteInfo={this.state.showRouteInfo}\n                closeShowRouteInfo={this.closeShowRouteInfo}\n                routes={this.state.routes}\n                // drawTrees={this.drawTrees}\n                component={ProfilePage}\n              />\n            ) : (\n              <Route\n                exact\n                path=\"/\"\n                render={(props) => (\n                  <LandingPage user={this.state.user} {...props} />\n                )}\n              />\n            )}\n\n            <ProtectedRoute\n              exact\n              path=\"/routes\"\n              user={this.state.user}\n              routes={this.state.routes}\n              component={Routes}\n            />\n\n            <ProtectedRoute\n              exact\n              path=\"/routes/:id\"\n              user={this.state.user}\n              getData={this.getData}\n              component={RouteDetails}\n            />\n\n            <Route\n              exact\n              path=\"/signup\"\n              render={(props) => <Signup setUser={this.setUser} {...props} />}\n            />\n            <Route\n              exact\n              path=\"/login\"\n              render={(props) => <Login setUser={this.setUser} {...props} />}\n            />\n            {/* <ProtectedRoute\n                //add protection of routes here\n\n            <ProtectedRoute\n              user={this.state.user}\n              startpoint={this.state.startpoint}\n              endpoint={this.state.endpoint}\n              kilometer={this.state.kilometer}\n              getData={this.getData}\n              showRouteInfo={this.state.showRouteInfo}\n              closeShowRouteInfo={this.closeShowRouteInfo}\n              routes={this.state.routes}\n              // drawTrees={this.drawTrees}\n              component={ProfilePage}\n            />\n\n            <ProtectedRoute\n              exact\n              path=\"/routes\"\n              user={this.state.user}\n              routes={this.state.routes}\n              // getData={this.getData}\n              component={Routes}\n            />\n\n            <ProtectedRoute\n              exact\n              path=\"/routes/:id\"\n              user={this.state.user}\n              getData={this.getData}\n              component={RouteDetails}\n            />\n\n\n            <Route\n              exact\n              path=\"/signup\"\n              render={(props) => <Signup setUser={this.setUser} {...props} />}\n            />\n            <Route\n              exact\n              path=\"/login\"\n              render={(props) => <Login setUser={this.setUser} {...props} />}\n            />\n\n            {/* </Switch> */}\n            {/* <ProtectedRoute\n                // add protection of routes here\n\n                exact\n                path=\"/dashboard\"\n                component={ProfilePage}\n                render={(props) => (\n                  <ProfilePage\n                    {...props}\n                    startpoint={this.state.startpoint}\n                    endpoint={this.state.endpoint}\n                    kilometer={this.state.kilometer}\n                    getData={this.getData}\n                    showRouteInfo={this.state.showRouteInfo}\n                    closeShowRouteInfo={this.closeShowRouteInfo}\n                    \n                  />\n                )}\n              /> */}\n            {/* </Switch>  */}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport axios from \"axios\";\n\naxios\n  .get(\"/api/auth/loggedin\")\n  .then((response) => {\n    console.log(\"User\", response.data);\n    ReactDOM.render(\n      <Router>\n        <App user={response.data} />\n\n        <React.Fragment>\n          <footer>\n            <ul className=\"footer-options\">\n              <li className=\"footer-link\">\n                <a href=\"#\" className=\"footer-linktext\"></a>\n              </li>\n              <li className=\"footer-link\">\n                <a href=\"#\" className=\"footer-linktext\"></a>\n              </li>\n            </ul>\n            <div>\n              © 2021 Developed by Travel-Clever Team. All Rights Reserved.\n            </div>\n          </footer>\n        </React.Fragment>\n      </Router>,\n      document.getElementById(\"root\")\n    );\n  })\n\n  .catch((err) => console.log(err));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}